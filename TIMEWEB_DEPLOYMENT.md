# Развертывание Telegram бота на Timeweb

## Подготовка проекта

Проект упрощен для легкого развертывания:
- **bot.py** - основной файл бота (все в одном файле)
- **requirements.txt** - только необходимые зависимости
- **start.sh** - скрипт запуска
- **Procfile** - для веб-платформ

## Развертывание на Timeweb

### Способ 1: Через панель управления Timeweb

1. **Войдите в панель управления Timeweb**
2. **Создайте новый сайт:**
   - Тип: Python приложение
   - Версия Python: 3.11
   - Название: telegram-bot

3. **Загрузите файлы:**
   - Загрузите все файлы проекта в корневую папку сайта
   - Или подключите Git репозиторий

4. **Настройте переменные окружения:**
   - BOT_TOKEN = ваш токен от @BotFather

5. **Запустите бот:**
   - Через панель управления
   - Или через SSH: `python bot.py`

### Способ 2: Через SSH

1. **Подключитесь к серверу по SSH**
2. **Перейдите в папку сайта**
3. **Загрузите файлы проекта**
4. **Установите зависимости:**
   ```bash
   pip install -r requirements.txt
   ```
5. **Установите переменную окружения:**
   ```bash
   export BOT_TOKEN=ваш_токен_бота
   ```
6. **Запустите бот:**
   ```bash
   python bot.py
   ```

### Способ 3: Автозапуск через cron

Для автоматического запуска бота при перезагрузке сервера:

1. **Откройте crontab:**
   ```bash
   crontab -e
   ```

2. **Добавьте строку:**
   ```bash
   @reboot cd /path/to/your/bot && python bot.py
   ```

## Получение токена бота

1. Найдите [@BotFather](https://t.me/BotFather) в Telegram
2. Отправьте `/newbot`
3. Следуйте инструкциям
4. Скопируйте полученный токен

## Функции бота

- `/start` - приветствие
- `/help` - справка
- `/subjects` - показать предметы
- `/add_subject` - добавить предмет
- `/stats` - статистика
- Эхо-ответы на текстовые сообщения

## Структура проекта

```
telegram-bot/
├── bot.py              # Основной файл бота
├── requirements.txt    # Зависимости
├── start.sh           # Скрипт запуска
├── Procfile           # Для веб-платформ
├── bot_data.json      # Файл данных (создается автоматически)
└── README.md          # Документация
```

## Возможные проблемы

### Ошибка "Module not found"
```bash
pip install python-telegram-bot==21.3
```

### Ошибка "BOT_TOKEN not found"
- Проверьте переменные окружения
- Убедитесь, что токен правильный

### Бот не отвечает
- Проверьте логи
- Убедитесь, что приложение запущено
- Проверьте интернет-соединение сервера

## Поддержка

Если возникли проблемы:
- Обратитесь в техподдержку Timeweb
- Проверьте документацию Timeweb по Python приложениям
